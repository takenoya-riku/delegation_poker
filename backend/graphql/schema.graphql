"""
Autogenerated return type of AddTopic.
"""
type AddTopicPayload {
  errors: [String!]!
  topic: Topic
}

"""
Autogenerated return type of CreateRoom.
"""
type CreateRoomPayload {
  errors: [String!]!
  room: Room!
}

"""
Autogenerated return type of DeleteRoom.
"""
type DeleteRoomPayload {
  errors: [String!]!
  success: Boolean!
}

"""
Autogenerated return type of DeleteTopic.
"""
type DeleteTopicPayload {
  errors: [String!]!
  success: Boolean!
}

"""
Autogenerated return type of RemoveParticipant.
"""
type RemoveParticipantPayload {
  errors: [String!]!
  success: Boolean!
}

"""
An ISO 8601-encoded datetime
"""
scalar ISO8601DateTime @specifiedBy(url: "https://tools.ietf.org/html/rfc3339")

"""
Autogenerated return type of JoinRoom.
"""
type JoinRoomPayload {
  errors: [String!]!
  participant: Participant
  room: Room
}

"""
Autogenerated return type of MergeTopics.
"""
type MergeTopicsPayload {
  errors: [String!]!
  topic: Topic
}

"""
The mutation root of this schema
"""
type Mutation {
  """
  トピックを追加する
  """
  addTopic(
    """
    説明
    """
    description: String

    """
    参加者ID
    """
    participantId: ID!

    """
    ルームID
    """
    roomId: ID!

    """
    トピックタイトル
    """
    title: String!
  ): AddTopicPayload!

  """
  ルームを作成する
  """
  createRoom(
    """
    ルーム名
    """
    name: String!
  ): CreateRoomPayload!

  """
  ルームを削除する
  """
  deleteRoom(
    """
    参加者ID
    """
    participantId: ID!

    """
    ルームID
    """
    roomId: ID!
  ): DeleteRoomPayload!

  """
  ルームから参加者を削除する
  """
  removeParticipant(
    """
    操作する参加者ID
    """
    participantId: ID!

    """
    ルームID
    """
    roomId: ID!

    """
    削除対象の参加者ID
    """
    targetParticipantId: ID!
  ): RemoveParticipantPayload!

  """
  トピックを削除する（対象出し/整理フェーズ用）
  """
  deleteTopic(
    """
    参加者ID
    """
    participantId: ID!

    """
    トピックID
    """
    topicId: ID!
  ): DeleteTopicPayload!

  """
  ルームに参加する
  """
  joinRoom(
    """
    ルームコード
    """
    code: String!

    """
    参加者名
    """
    name: String!
  ): JoinRoomPayload!

  """
  トピックを統合する（整理フェーズ用）
  """
  mergeTopics(
    """
    統合元のトピックID
    """
    sourceTopicId: ID!

    """
    統合先のトピックID
    """
    targetTopicId: ID!
  ): MergeTopicsPayload!

  """
  トピックを整理フェーズから現状投票フェーズに移行する
  """
  organizeTopic(
    """
    トピックID
    """
    topicId: ID!
  ): OrganizeTopicPayload!

  """
  トピックを投票フェーズから整理フェーズに戻す
  """
  revertToOrganizing(
    """
    トピックID
    """
    topicId: ID!
  ): RevertToOrganizingPayload!

  """
  現状確認の投票結果を公開する
  """
  revealCurrentState(
    """
    トピックID
    """
    topicId: ID!
  ): RevealCurrentStatePayload!

  """
  ありたい姿の投票結果を公開する
  """
  revealDesiredState(
    """
    トピックID
    """
    topicId: ID!
  ): RevealDesiredStatePayload!

  """
  トピックの投票結果を公開する
  """
  revealTopic(
    """
    トピックID
    """
    topicId: ID!
  ): RevealTopicPayload!

  """
  理想投票フェーズを開始する
  """
  startDesiredStateVoting(
    """
    トピックID
    """
    topicId: ID!
  ): StartDesiredStateVotingPayload!

  """
  トピックを対象出しフェーズから整理フェーズに移行する
  """
  startOrganizing(
    """
    トピックID
    """
    topicId: ID!
  ): StartOrganizingPayload!

  """
  トピックを編集する（対象出し/整理フェーズ用）
  """
  updateTopic(
    """
    説明
    """
    description: String

    """
    参加者ID
    """
    participantId: ID!

    """
    タイトル
    """
    title: String

    """
    トピックID
    """
    topicId: ID!
  ): UpdateTopicPayload!

  """
  投票する
  """
  vote(
    """
    権限レベル（1-7）
    """
    level: Int!

    """
    参加者ID
    """
    participantId: ID!

    """
    トピックID
    """
    topicId: ID!

    """
    投票の種類（現状確認またはありたい姿）
    """
    voteType: VoteTypeEnum!
  ): VotePayload!
}

"""
Autogenerated return type of OrganizeTopic.
"""
type OrganizeTopicPayload {
  errors: [String!]!
  topic: Topic
}

type Participant {
  createdAt: ISO8601DateTime!
  id: ID!
  name: String!
  roomId: ID!
  updatedAt: ISO8601DateTime!
}

"""
The query root of this schema
"""
type Query {
  """
  ルームコードでルーム情報を取得する
  """
  room(
    """
    ルームコード
    """
    code: String!
  ): Room
}

"""
Autogenerated return type of RevealCurrentState.
"""
type RevealCurrentStatePayload {
  errors: [String!]!
  topic: Topic
}

"""
Autogenerated return type of RevealDesiredState.
"""
type RevealDesiredStatePayload {
  errors: [String!]!
  topic: Topic
}

"""
Autogenerated return type of RevealTopic.
"""
type RevealTopicPayload {
  errors: [String!]!
  topic: Topic
}

"""
Autogenerated return type of RevertToOrganizing.
"""
type RevertToOrganizingPayload {
  errors: [String!]!
  topic: Topic
}

type Room {
  code: String!
  createdAt: ISO8601DateTime!
  id: ID!
  name: String!
  roomMasterId: ID
  participants: [Participant!]!
  topics: [Topic!]!
  updatedAt: ISO8601DateTime!
}

"""
Autogenerated return type of StartDesiredStateVoting.
"""
type StartDesiredStateVotingPayload {
  errors: [String!]!
  topic: Topic
}

"""
Autogenerated return type of StartOrganizing.
"""
type StartOrganizingPayload {
  errors: [String!]!
  topic: Topic
}

type Topic {
  """
  すべての参加者が投票済みか
  """
  allParticipantsVoted: Boolean!

  """
  平均投票レベル
  """
  averageVoteLevel: Float
  createdAt: ISO8601DateTime!
  description: String
  id: ID!

  """
  最大投票レベル
  """
  maxVoteLevel: Int

  """
  最小投票レベル
  """
  minVoteLevel: Int
  participantId: ID
  roomId: ID!
  status: TopicStatusEnum!
  title: String!
  updatedAt: ISO8601DateTime!
  votes: [Vote!]!
}

"""
トピックのステータス
"""
enum TopicStatusEnum {
  """
  完了
  """
  COMPLETED

  """
  現状確認結果公開済み
  """
  CURRENT_REVEALED

  """
  現状確認投票中
  """
  CURRENT_VOTING

  """
  ありたい姿結果公開済み
  """
  DESIRED_REVEALED

  """
  理想投票中
  """
  DESIRED_VOTING

  """
  対象出しフェーズ
  """
  DRAFT

  """
  整理フェーズ
  """
  ORGANIZING
}

"""
Autogenerated return type of UpdateTopic.
"""
type UpdateTopicPayload {
  errors: [String!]!
  topic: Topic
}

type Vote {
  createdAt: ISO8601DateTime!
  id: ID!
  level: Int!
  participant: Participant!
  participantId: ID!
  topicId: ID!
  updatedAt: ISO8601DateTime!
  voteType: VoteTypeEnum!
}

"""
Autogenerated return type of Vote.
"""
type VotePayload {
  errors: [String!]!
  vote: Vote
}

"""
投票の種類
"""
enum VoteTypeEnum {
  """
  現状確認
  """
  CURRENT_STATE

  """
  ありたい姿
  """
  DESIRED_STATE
}
